<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/index.css">
    <link rel="stylesheet" href="./style/modal.css">
    <link rel="icon" href="/assets/image/pngegg.png" type="image/png">
    <link rel="stylesheet" href="./style/comentarios.css">
    <title>Blogtech | Inicio </title> 
</head>
<body>
    <header>
        <h1 class="h1">BlogTech </h1>
        <nav class="navbar">
            <a href="./html/git.html" class="ancoresNav">Git</a>
            <a href="./html/gitlab.html" class="ancoresNav">GitLab</a>
            <a href="./html/html.html" class="ancoresNav">HTML</a>
            <a href="./html/js.html" class="ancoresNav">JS</a>
        </nav>
        <button class="menu-toggle" aria-label="Menú">
            ☰
        </button>
    </header>
    <main>
        <div class="descriptionContainer">
            <h2 class="sub">Acerca de esta pagina</h2>
            <p class="p-description">Esta pagina está hecha con el fin de registrar toda la información obtenida en las clases impartidas por el bootcamp, de manera que le sirva a los compañeros a la hora de estudiar o echar un vistazo a lo que ha visto.<br>Esperamos puedas aprender mucho con este contenido!! &#129299&#128218</p>
        </div>
        <div id="fillScreen"></div>
    </main>
    <div class="title-btn">
        <h2 class="comentarios">COMENTARIOS</h2>
        <button class="btn-add" onclick="showModal('coment')"><ion-icon name="add" class="icon"></ion-icon> Agregar Comentario</button>
    </div>
    <div id="contenedor-coment" class="container-coment"></div>
    <div id="data-container"></div>

    <!-- <div class="modal" id="login">
        <h2 class="modal-title">
            Registro de usuario 
            <span class="tag-info-title"></span> 
            <a href="#" onclick="closeModal('login')" class="anclamargin">
                <img class="modal-close"src="./assets/cerrar.png" alt="closeModal">
            </a>
        </h2>
        <div class="modal-content">
            <div class="container-object">
                <object data="./component/formRegister.html" type="text/html" class="embedded-object"></object>
            </div>
        </div>
    </div> -->
    <div class="modal" id="coment">
        <h2 class="modal-title">
            Agregar Comentario 
            <span class="tag-info-title"></span> 
            <a href="#" onclick="closeModal('coment')" class="anclamargin">
                <img class="modal-close"src="./assets/cerrar.png" alt="closeModal">
            </a>
        </h2>
        <div class="modal-content">
            <div class="container-object">
                <object data="./component/formComent.html" type="text/html" class="embedded-object"></object>
            </div>
        </div>
    </div>

    <script src="./script/modal.js"></script>
    <script src="./script/togglemenu.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        let sessionActive;
        let user;
        let nombre;

        fetch('https://app-07f9025b-6a13-4685-a1e7-d30222c7d740.cleverapps.io/api/coments')
            .then(response => response.json())
            .then(data => {
                const contenedor = document.getElementById('contenedor-coment');
                data.forEach(item =>{
                    const div = document.createElement('div');
                    const h3 = document.createElement('h3');
                    const p = document.createElement('p');

                    div.classList.add("comentario");
                    h3.classList.add("user-name");
                    p.classList.add("user-comentario");

                    h3.textContent = item.usuario;
                    p.textContent= item.comentario;

                    div.appendChild(h3);
                    div.appendChild(p);
                    contenedor.appendChild(div);
                })
            })
    </script>
</body>
</html>