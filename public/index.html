<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style/index">
    <link rel="stylesheet" href="/style/modal">
    <link rel="icon" href="/assets/image/pngegg.png" type="image/png">
    <link rel="stylesheet" href="/style/comentarios">
    <title>Blogtech | Inicio </title> 
</head>
<body>
    <header id="headerBody">
        <a class="h1" href="/index">BlogTech</a>
        <nav class="navbar">
            <a href="/git" class="ancoresNav">Git</a>
            <a href="/gitlab" class="ancoresNav">GitLab</a>
            <a href="/html" class="ancoresNav">HTML</a>
            <a href="/js" class="ancoresNav">JS</a>
            <a href="/css" class="ancoresNav">CSS</a>
            <a href="/foro" class="ancoresNav">Foro</a>
            <a id="aLogin" href="/login" class="ancoresNav">Iniciar Sesion</a>
            <div id="user-letter">K</div>
        </nav>
        <button class="menu-toggle" aria-label="Menú">
            ☰
        </button>
    </header>
    <div id="menUser">
        <div class="user">KevinGr</div>
        <div class="logout"><a href="/logout">Cerrar Sesion</a></div>
    </div>
    <main>
        <section class="descriptionContainer">
            <h2 class="sub">Bienvenido a BlogTech</h2>
            <p class="p-description">
              BlogTech es una plataforma pensada para estudiantes del bootcamp que buscan repasar, documentar y compartir lo aprendido en clase. Aquí podrás acceder a recursos útiles, publicar tus aportes y dejar comentarios para ayudar a otros. ¡Aprendamos juntos!
            </p>
          </section>
        <div id="fillScreen"></div>
    </main>
    <div class="title-btn">
        <h2 class="comentarios">COMENTARIOS</h2>
        <button class="btn-add" onclick="showModal('coment')"><ion-icon name="add" class="icon"></ion-icon> Agregar Comentario</button>
    </div>
    <div id="contenedor-coment" class="container-coment"></div>
    <div id="data-container"></div>
    
    <div class="modal" id="coment">
        <h2 class="modal-title">
            Agregar Comentario 
            <span class="tag-info-title"></span> 
            <a href="#" onclick="closeModal('coment')" class="anclamargin">
                <img class="modal-close"src="./assets/cerrar.png" alt="closeModal">
            </a>
        </h2>
        <div class="modal-content">
            <div class="container-object">
                <object data="/component/formComent" type="text/html" class="embedded-object"></object>
                <div class="btn-group">
                    <button class="btn-success">Hecho</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/script/modal"></script>
    <script src="/script/togglemenu"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        let sessionActive;
        let user;
        let nombre;

        fetch('https://app-07f9025b-6a13-4685-a1e7-d30222c7d740.cleverapps.io/api/coments')
            .then(response => response.json())
            .then(data => {
                const contenedor = document.getElementById('contenedor-coment');
                data.forEach(item =>{
                    const div = document.createElement('div');
                    const h3 = document.createElement('h3');
                    const p = document.createElement('p');

                    div.classList.add("comentario");
                    h3.classList.add("user-name");
                    p.classList.add("user-comentario");

                    h3.textContent = item.usuario;
                    p.textContent= item.comentario;

                    div.appendChild(h3);
                    div.appendChild(p);
                    contenedor.appendChild(div);
                })
            })
    </script>
    <script src="/script/index"></script>
</body>
</html>